/*!
 * FullCalendar v3.4.0 Google Calendar Plugin
 * Docs & License: https://fullcalendar.io/
 * (c) 2017 Adam Shaw
 */
!(function (e) { typeof define === 'function' && define.amd ? define(['jquery'], e) : typeof exports === 'object' ? module.exports = e(require('jquery')) : e(jQuery) }(function (e) { function a (a, t, d, c, i) { function s (o, r) { var l = r || [{ message: o }]; (a.googleCalendarError || e.noop).apply(i, l), (i.opt('googleCalendarError') || e.noop).apply(i, l), n.warn.apply(null, [o].concat(r || [])) } var u; var g; var p = r + '/' + encodeURIComponent(a.googleCalendarId) + '/events?callback=?'; var m = a.googleCalendarApiKey || i.opt('googleCalendarApiKey'); var f = a.success; return m ? (t.hasZone() || (t = t.clone().utc().add(-1, 'day')), d.hasZone() || (d = d.clone().utc().add(1, 'day')), c && c != 'local' && (g = c.replace(' ', '_')), u = e.extend({}, a.data || {}, { key: m, timeMin: t.format(), timeMax: d.format(), timeZone: g, singleEvents: !0, maxResults: 9999 }), e.extend({}, a, { googleCalendarId: null, url: p, data: u, startParam: !1, endParam: !1, timezoneParam: !1, success: function (a) { var r; var n; var t = []; if (a.error)s('Google Calendar API: ' + a.error.message, a.error.errors); else if (a.items && (e.each(a.items, function (e, a) { var r = a.htmlLink || null; g && r !== null && (r = o(r, 'ctz=' + g)), t.push({ id: a.id, title: a.summary, start: a.start.dateTime || a.start.date, end: a.end.dateTime || a.end.date, url: r, location: a.location, description: a.description }) }), r = [t].concat(Array.prototype.slice.call(arguments, 1)), n = l(f, this, r), e.isArray(n))) return n; return t } })) : (s('Specify a googleCalendarApiKey. See http://fullcalendar.io/docs/google_calendar/'), {}) } function o (e, a) { return e.replace(/(\?.*?)?(#|$)/, function (e, o, r) { return (o ? o + '&' : '?') + a + r }) } var r = 'https://www.googleapis.com/calendar/v3/calendars'; var n = e.fullCalendar; var l = n.applyAll; n.sourceNormalizers.push(function (e) { var a; var o = e.googleCalendarId; var r = e.url; !o && r && (/^[^\/]+@([^\/\.]+\.)*(google|googlemail|gmail)\.com$/.test(r) ? o = r : ((a = /^https:\/\/www.googleapis.com\/calendar\/v3\/calendars\/([^\/]*)/.exec(r)) || (a = /^https?:\/\/www.google.com\/calendar\/feeds\/([^\/]*)/.exec(r))) && (o = decodeURIComponent(a[1])), o && (e.googleCalendarId = o)), o && (e.editable == null && (e.editable = !1), e.url = o) }), n.sourceFetchers.push(function (e, o, r, n) { if (e.googleCalendarId) return a(e, o, r, n, this) }) }))
